<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="imagens/logo_mundotea.png">
  <title>MundoTEA - Home</title>
  <link rel="stylesheet" href="css/estilo.css">
</head>

<body>

<!-- ======================== HEADER ======================== -->
<header class="header">
  <div class="logo">
      <img src="imagens/logo_mundotea.png" alt="Logo MundoTEA">
      <h1 class="titulo-site">
        <span class="mundo">Mundo</span><span class="tea">TEA</span>
      </h1>
  </div>

  <div class="user-actions">

    <!-- Mostrado sem login -->
    <a id="btnLogin" href="login.html" class="btn-link">Login</a>
    <a id="btnCadastro" href="cadastro.html" class="btn-link">Cadastrar-se</a>

    <!-- Ãcone do usuÃ¡rio (sempre visÃ­vel) -->
    <a id="perfilLink" href="#" class="profile-icon">
        <img id="iconePerfil" src="imagens/iconegenerico.png" alt="Perfil UsuÃ¡rio">
    </a>

  </div>
</header>

<!-- ======================== CONTEÃšDO ======================== -->
<main class="container">

  <section class="boas-vindas">
      <img src="imagens/mundotea_boasvindas.png" 
      alt="Logo Boas-vindas" class="boas-vindas-img">
  </section>

  <section class="menu-principal">
    <div class="grid-menu">

      <button class="btn azul-escuro" onclick="abrir('jogos-ludicos.html')">
        ðŸŽ² Jogos LÃºdicos
      </button>

      <button class="btn azul-claro" onclick="abrir('historias-interativas.html')">
        ðŸ“– HistÃ³rias Interativas
      </button>

      <button class="btn verde" onclick="abrir('colorir.html')">
        ðŸŽ¨ Colorir
      </button>

      <button class="btn laranja" onclick="abrir('quebra-cabeca.html')">
        ðŸ§© Quebra-CabeÃ§as
      </button>

      <button class="btn verde-medio" onclick="abrir('atividades.html')">
        ðŸ’š Atividades TerapÃªuticas
      </button>

      <button class="btn verde-claro" onclick="abrir('calendario.html')">
        ðŸ“… CalendÃ¡rio de RecomendaÃ§Ãµes
      </button>

    </div>
  </section>

  <section class="dica-dia">
    <p>ðŸ“š Hoje Ã© dia de ler histÃ³ria!</p>
  </section>

</main>

<script>
// ==========================
// Controle de Login
// ==========================

// Verifica se estÃ¡ logado e atualiza o header
function verificarLogin() {
    const token = localStorage.getItem('token');

    const btnLogin = document.getElementById('btnLogin');
    const btnCadastro = document.getElementById('btnCadastro');
    const perfilLink = document.getElementById('perfilLink');

    if(token) {
        // UsuÃ¡rio logado
        btnLogin.style.display = 'none';
        btnCadastro.style.display = 'none';
        perfilLink.style.display = 'inline-block';

    } else {
        // UsuÃ¡rio nÃ£o logado
        btnLogin.style.display = 'inline-block';
        btnCadastro.style.display = 'inline-block';
        perfilLink.style.display = 'inline-block'; // Ã­cone continua visÃ­vel
    }
}

// Clique no Ã­cone do usuÃ¡rio â†’ perfil ou login
document.getElementById('perfilLink').addEventListener('click', function(e){
    e.preventDefault();
    const token = localStorage.getItem('token');

    if(token){
        window.location.href = 'perfil.html';
    } else {
        window.location.href = 'login.html';
    }
});

// BotÃµes do menu (mesmo comportamento)
function abrir(url) {
    const token = localStorage.getItem('token');

    if(token){
        window.location.href = url;
    } else {
        window.location.href = 'login.html';
    }
}

// Executa ao carregar a pÃ¡gina
window.onload = verificarLogin;
</script>

</body>
</html>
