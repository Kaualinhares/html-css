<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="imagens/logo_mundotea.png">
  <title>MundoTEA - Home</title>
  <link rel="stylesheet" href="css/estilo.css">
</head>

<body>

<!-- ======================== HEADER ======================== -->
<header class="header">
  <div class="logo">
      <img src="imagens/logo_mundotea.png" alt="Logo MundoTEA">
      <h1 class="titulo-site">
        <span class="mundo">Mundo</span><span class="tea">TEA</span>
      </h1>
  </div>

  <div class="user-actions">

    <!-- Mostrado apenas sem login -->
    <a id="btnLogin" href="login.html" class="btn-link">Login</a>
    <a id="btnCadastro" href="cadastro.html" class="btn-link">Cadastrar-se</a>

    <!-- Ãcone do usuÃ¡rio -->
    <a id="perfilLink" href="#" class="profile-icon">
        <img id="iconePerfil" src="imagens/iconegenerico.png" alt="Perfil UsuÃ¡rio">
    </a>

  </div>
</header>

<!-- ======================== CONTEÃšDO ======================== -->
<main class="container">

  <section class="boas-vindas">
      <img src="imagens/mundotea_boasvindas.png" 
      alt="Logo Boas-vindas" class="boas-vindas-img">
  </section>

  <section class="menu-principal">
    <div class="grid-menu">

      <button class="btn azul-escuro" onclick="abrir('jogos-ludicos.html')">
        ğŸ² Jogos LÃºdicos
      </button>

      <button class="btn azul-claro" onclick="abrir('historias-interativas.html')">
        ğŸ“– HistÃ³rias Interativas
      </button>

      <button class="btn verde" onclick="abrir('colorir.html')">
        ğŸ¨ Colorir
      </button>

      <button class="btn laranja" onclick="abrir('quebra-cabeca.html')">
        ğŸ§© Quebra-CabeÃ§as
      </button>

      <button class="btn verde-medio" onclick="abrir('atividades.html')">
        ğŸ’š Atividades TerapÃªuticas
      </button>

      <button class="btn verde-claro" onclick="abrir('calendario.html')">
        ğŸ“… CalendÃ¡rio de RecomendaÃ§Ãµes
      </button>

    </div>
  </section>

  <section class="dica-dia">
    <p>ğŸ“š Hoje Ã© dia de ler histÃ³ria!</p>
  </section>

</main>

<script>
// ==========================
// Controle de Login
// ==========================

// FunÃ§Ã£o para verificar login
function verificarLogin() {
    const token = localStorage.getItem('token');
    const btnLogin = document.getElementById('btnLogin');
    const btnCadastro = document.getElementById('btnCadastro');
    const perfilLink = document.getElementById('perfilLink');
    const botoesMenu = document.querySelectorAll('.grid-menu .btn');

    if(token) {
        // UsuÃ¡rio logado
        btnLogin.style.display = 'none';
        btnCadastro.style.display = 'none';
        perfilLink.style.display = 'block';

        // Menu desbloqueado
        botoesMenu.forEach(btn => btn.disabled = false);

    } else {
        // UsuÃ¡rio nÃ£o logado
        btnLogin.style.display = 'inline-block';
        btnCadastro.style.display = 'inline-block';
        perfilLink.style.display = 'inline-block';

        // Menu bloqueado
        botoesMenu.forEach(btn => btn.disabled = true);
    }
}

// Redirecionamento do Ã­cone de perfil
document.getElementById('perfilLink').addEventListener('click', function(e){
    e.preventDefault();
    const token = localStorage.getItem('token');
    if(token){
        window.location.href = 'perfil.html';
    } else {
        window.location.href = 'login.html';
    }
});

// FunÃ§Ã£o para abrir pÃ¡ginas do menu
function abrir(url) {
    const token = localStorage.getItem('token');
    if(token){
        window.location.href = url;
    } else {
        alert('VocÃª precisa estar logado para acessar esta pÃ¡gina.');
        window.location.href = 'login.html';
    }
}

// Chamar no carregamento da pÃ¡gina
window.onload = verificarLogin;
</script>

</body>
</html>
